<app-pagetitle
  title="{{ affiliateMaster?.nombreComercial | titlecase }}"
  [breadcrumbItems]="breadCrumbItems"
></app-pagetitle>

@if(chartOverviewData?.totalAmount){
<div class="row">
  <div class="col-xl-8 col-sm-6"></div>
  <div class="col-xl-4 col-sm-6">
    <app-date-range-picker
      [customRangeChartActive]="customRangeChartActive"
      (dateRangeSet)="handleDateRange($event)"
    >
    </app-date-range-picker>
  </div>
</div>
<div class="row">
  <div class="col-xl-3 col-md-3 col-sm-4">
    <terminal-status-overview
      [overviewData]="overviewTerminalData"
    ></terminal-status-overview>
  </div>
  <div class="col-xl-9 col-md-9 col-sm-8">
    <closures-data-chart
      [customRangeActive]="customRangeChartActive"
      [chartData]="chartData"
      [chartOverviewData]="chartOverviewData"
      (sortByChange)="onSortByChange($event)"
    >
    </closures-data-chart>
  </div>
</div>
}
<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <div class="row mb-md-2">
          <div class="col-sm-12 col-md-12">
            <div
              id="tickets-table_filter"
              class="dataTables_filter text-md-end"
            >
              <label class="d-inline-flex align-items-center"
                >Search:
                <input
                  type="text"
                  name="searchTerm"
                  class="form-control form-control-sm ms-2"
                  [(ngModel)]="searchTerm"
                  (ngModelChange)="onSearchChange($event)"
                  aria-controls="tickets-table"
                />
              </label>
            </div>
          </div>
        </div>

        <app-affiliate-list
          (sortOrderEmitter)="receiveSortOrder($event)"
          [TitleNotFound]="'No se encontraron afiliaciones asociadas'"
          [MessageNotFound]="'Este comercio no tiene afiliaciones asociadas'"
          [affiliates]="affiliates"
          [total]="total"
          [page]="page"
          [limit]="limit"
          (pageChange)="onPageChange($event)"
        >
        </app-affiliate-list>
      </div>
      <!-- end card body -->
    </div>
    <!-- end card -->
  </div>
  <!-- end col -->
</div>
<!-- end row -->
